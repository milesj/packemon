"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1251],{2585:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var t=n(2540),r=n(3023);const i={title:"ECMAScript first"},o=void 0,c={id:"esm",title:"ECMAScript first",description:"Packemon utilizes the",source:"@site/docs/esm.md",sourceDirName:".",slug:"/esm",permalink:"/docs/esm",draft:!1,unlisted:!1,editUrl:"https://github.com/milesj/packemon/edit/master/website/docs/esm.md",tags:[],version:"current",frontMatter:{title:"ECMAScript first"},sidebar:"docs",previous:{title:"Experimental swc support",permalink:"/docs/swc"},next:{title:"build",permalink:"/docs/build"}},d={},l=[{value:"Requirements",id:"requirements",level:2}];function a(e){const s={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:["Packemon utilizes the\n",(0,t.jsx)(s.a,{href:"https://npmjs.com/package/babel-plugin-cjs-esm-interop",children:(0,t.jsx)(s.code,{children:"babel-plugin-cjs-esm-interop"})})," plugin to\ntransform ECMAScript module code (ESM) to CommonJS code (CJS) and vice versa. However, it's much\neasier to transform from ESM to CJS, as async code (",(0,t.jsx)(s.code,{children:"import()"}),") can be translated to non-async code\n(",(0,t.jsx)(s.code,{children:"require()"}),") without issue, but the reverse ",(0,t.jsx)(s.strong,{children:"is not possible"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["Because of this, we suggest ",(0,t.jsx)(s.em,{children:"writing all source code in ESM"})," (",(0,t.jsx)(s.code,{children:".mjs"}),", ",(0,t.jsx)(s.code,{children:".ts"}),", ",(0,t.jsx)(s.code,{children:".tsx"}),", ",(0,t.jsx)(s.code,{children:".js"})," with\nmodule type). ",(0,t.jsx)(s.em,{children:"Modules are the future, so start using them today!"})]}),"\n",(0,t.jsx)(s.h2,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Use ",(0,t.jsx)(s.code,{children:"import"})," or ",(0,t.jsx)(s.code,{children:"import()"})," instead of ",(0,t.jsx)(s.code,{children:"require()"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Use ",(0,t.jsx)(s.code,{children:"export const"})," or ",(0,t.jsx)(s.code,{children:"export {}"})," instead of ",(0,t.jsx)(s.code,{children:"exports.<name>"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Use ",(0,t.jsx)(s.code,{children:"export default"})," instead of ",(0,t.jsx)(s.code,{children:"module.exports"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Use ",(0,t.jsx)(s.code,{children:"import.meta.url"})," instead of ",(0,t.jsx)(s.code,{children:"__filename"})," and ",(0,t.jsx)(s.code,{children:"__dirname"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Use ",(0,t.jsx)(s.code,{children:"module.createRequire()"})," or the ",(0,t.jsx)(s.a,{href:"https://www.npmjs.com/package/resolve",children:(0,t.jsx)(s.code,{children:"resolve"})})," package\ninstead of ",(0,t.jsx)(s.code,{children:"require.resolve()"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Do not use ",(0,t.jsx)(s.code,{children:"require.extensions"})," or ",(0,t.jsx)(s.code,{children:"require.cache"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Do not use ",(0,t.jsx)(s.code,{children:"process.env.NODE_PATH"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["For a full list of changes,\n",(0,t.jsx)(s.a,{href:"https://nodejs.org/api/esm.html#esm_interoperability_with_commonjs",children:"view the official Node.js documentation"}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},3023:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var t=n(3696);const r={},i=t.createContext(r);function o(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);